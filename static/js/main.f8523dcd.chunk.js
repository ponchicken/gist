(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{25:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(24),a=n.n(i),c=n(3),u=n(21),l=n(49),f=n(50),s=function(e){return{type:"SET_ACTIVE_GIST",payload:e}},p=function(e){return function(t){t({type:"FETCH_GIST_FILE_REQUEST",payload:{name:e.file.filename,id:e.id}}),fetch(e.file.raw_url).then(function(e){return e.text()}).then(function(n){t(function(e){return{type:"FETCH_GIST_FILE_SUCCESS",payload:e}}({id:e.id,name:e.file.filename,data:n}))}).catch(function(e){return t(function(e){return{type:"FETCH_GIST_FILE_FAILURE",payload:e}}(e))})}},y=function(e){var t=e.search("]"),n=-1!==t?e.slice(1,t):e.slice(0,e.length),r=-1!==t?e.slice(t+1,e.length):e.slice(0,e.length),o=e.match(/#[\w\-_]*/g);return{title:n.trim(),description:r.trim(),tags:o}};function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return b(r,(n=r=b(this,(e=g(t)).call.apply(e,[this].concat(a))),r.displayGists=function(){var e=r.props.gists.data;return e.length?e.map(function(e,t){if(!e.description)return o.a.createElement("div",{key:t},"hmm");var n=y(e.description);return o.a.createElement("button",{onClick:r.props.setGist(e),key:t,className:r.chooseGistClass(e)},n.title)}):o.a.createElement("div",null,"no gists")},n))}var n,r,i;return n=t,(r=[{key:"chooseGistClass",value:function(e){var t="";return t+=e.id===this.props.gists.active?"active ":"",t+=e.changed?"changed ":""}},{key:"render",value:function(){return o.a.createElement("div",{className:"gists-list"},this.displayGists())}}])&&h(n.prototype,r),i&&h(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");m(e.prototype,t&&t.prototype),t&&m(e,t)}(t,e),t}(r.Component),v=Object(c.b)(function(e){return{gists:e.gists}},function(e){return{setGist:function(t){return function(n){n.preventDefault(),e(s(t))}},loadGistFiles:function(e){}}})(E),_=n(20),S=n.n(_),w=n(10),O=n.n(w),T=function(e){var t=e.file,n=e.filename,r=e.onFileRename,i=e.onFileRemove,a=e.onFileContentChange,c=t&&t.language?t.language.toLowerCase():"clike",u=O.a.languages.hasOwnProperty(c)?c:"clike";return o.a.createElement("div",{className:"gist-file"},o.a.createElement("div",{className:"gist-file-top"},o.a.createElement("input",{className:"gist-file-name","data-name":n,value:t.filename,onChange:r(n)}),o.a.createElement("button",{className:"gist-file-remove btn",title:"remove file",onClick:i(n)},"remove file")),o.a.createElement(S.a,{className:"gist-editor",value:t.content,onValueChange:a(n),highlight:function(e){return O.a.highlight(e,O.a.languages[u])},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}}))};function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,I(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"getFiles",value:function(){var e=this,t=this.props.gist;return t.description?Object.keys(t.files).map(function(n,r){var i=t.files[n];if(null===i)return o.a.createElement("div",{key:n,className:"removed",title:"".concat(n," removed")});var a=e.props,c=a.onFileRename,u=a.onFileRemove,l=a.onFileContentChange;return o.a.createElement(T,Object.assign({key:n},{file:i,filename:n,onFileRename:c,onFileRemove:u,onFileContentChange:l}))}):o.a.createElement("div",null,"no content")}},{key:"render",value:function(){var e=this.props.gist;return o.a.createElement("div",{className:"gist"},o.a.createElement("h3",null,e.description," ",e.deleted?"--removed--":""),o.a.createElement("div",null,o.a.createElement("textarea",{value:e.description,onChange:this.props.onGistRename})),o.a.createElement("button",{className:"btn",onClick:this.props.onGistDelete(e.id)},"remove gist"),o.a.createElement("div",{className:"gist-files",ref:"files"},this.getFiles()),o.a.createElement("div",{className:"gist-actions"},o.a.createElement("button",{className:"btn",onClick:this.props.onFileAdd},"Add file"),o.a.createElement("button",{className:"btn gist-submit",onClick:this.props.updateGist(e)},"Submit")))}}])&&k(n.prototype,r),i&&k(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");j(e.prototype,t&&t.prototype),t&&j(e,t)}(t,e),t}(r.Component),R=Object(c.b)(function(e){return{gists:e.gists,gist:e.gist}},function(e){return{onFileRemove:function(t){return function(n){e({type:"FILE_REMOVE",payload:t})}},onFileRename:function(t){return function(n){e(function(e,t){return{type:"FILE_RENAME",payload:{target:e,filename:t}}}(t,n.target.value))}},onFileAdd:function(t){e({type:"FILE_ADD"})},onFileContentChange:function(t){return function(n){e(function(e,t){return{type:"FILE_CONTENT_CHANGE",payload:{filename:e,content:t}}}(t,n))}},onGistDelete:function(t){return function(n){e(function(e){return{type:"GIST_DELETE",payload:e}}(t))}},onGistRename:function(t){e({type:"GIST_RENAME",payload:t.target.value})}}})(G);function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==N(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var D=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return U(r,(n=r=U(this,(e=H(t)).call.apply(e,[this].concat(a))),r.submitHandler=function(e){return function(t){t&&t.preventDefault(),-1!==r.props.gists.data.findIndex(function(t){return t.id===e.id})?r.props.onUpdateGist(e):r.props.onAddGist(e)}},r.displayGist=function(){var e=r.props,t=e.gists,n=e.gist;return t&&n?o.a.createElement(R,{updateGist:r.submitHandler}):"no active gist"},r.handleKeyboard=function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":r.submitHandler(r.props.gist)(e)}},n))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyboard)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyboard)}},{key:"render",value:function(){return o.a.createElement("div",null,this.displayGist())}}])&&A(n.prototype,r),i&&A(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");P(e.prototype,t&&t.prototype),t&&P(e,t)}(t,e),t}(r.Component),L=Object(c.b)(function(e){return{gists:e.gists,gist:e.gist}},function(e){return{onUpdateGist:function(t){Object.keys(t.files).forEach(function(e){var n=t.files[e];n&&!n.content&&delete t.files[e]}),t.files.length?e(function(e){return{type:"CHANGE_GIST",payload:e}}(t)):console.log("No files in gist")},onAddGist:function(t){e(function(e){return{type:"GIST_ADD",payload:e}}(t))}}})(D),x=n(9),K=n.n(x),M=function(){var e=window.location.origin+window.location.pathname,t=K.a.stringify({client_id:"169a193bbe75c0e129d0",scope:"gist",redirect_uri:e}),n="https://github.com/login/oauth/authorize?".concat(t);window.location.href=n},Q=function(e){return"".concat("https://api.github.com").concat(e)},W=function(){return{Authorization:"token ".concat(localStorage.getItem("ghtoken"))}},V=function(e){return function(t){return function(n){return n=n||Q(t),console.log(n),fetch(n,{method:e,headers:W()}).then(J)}}},z=function(e){return function(t){return function(n){return console.log(n),fetch(Q(t),{method:e,headers:W(),body:JSON.stringify(n)}).then(J)}}},J=function(e){if(e.ok)return e.json();throw new B(e)};function B(e){this.name="Error",this.status=e.status,this.message=e.statusText,this.url=e.url}B.prototype=Object.create(Error.prototype),B.prototype.constructor=B;var X=V("GET"),$=X("/user"),q=X("/gists"),Y=function(e){e({type:"FETCH_USER_REQUEST"}),$().then(function(t){return e({type:"FETCH_USER_SUCCESS",payload:t})}).catch(function(t){return e(function(e){return{type:"FETCH_USER_FAILURE",payload:e}}(t))})},Z=z("PATCH"),ee=z("POST"),te=V("DELETE"),ne=function(e){e({type:"FETCH_GISTS_REQUEST"}),q().then(function(t){e(function(e){return{type:"FETCH_GISTS_SUCCESS",payload:e}}(t)),e(re(t))}).catch(function(t){return console.log(t),e(function(e){return{type:"FETCH_GISTS_FAILURE",payload:e}}(t))})},re=function(e){return function(t){e.forEach(function(e){t(function(e){return function(t){Object.keys(e.files).forEach(function(n){t(p({id:e.id,file:e.files[n]}))})}}(e))})}},oe=function(e,t){e.then(function(e){t(function(e){return{type:"UPDATE_GIST_SUCCESS",payload:e}}(e))}).catch(function(e){t({type:"UPDATE_GIST_ERROR",payload:e})}).finally(function(e){t({type:"UPDATE_GISTS_FINISH"})})},ie=function(e){return function(t){var n=e.data.filter(function(e){return e.changed||e.added||e.deleted});return n.forEach(function(e){var n;t({type:"UPDATE_GISTS_START"}),e.deleted?oe((n=e.id,te("/gists/".concat(n))()),t):e.added?oe(function(e){return ee("/gists")(e)}(e),t):e.changed&&oe(function(e){return Z("/gists/".concat(e.id))(e)}(e),t)}),n}};function ae(e){return(ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var se=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return le(r,(n=r=le(this,(e=fe(t)).call.apply(e,[this].concat(i))),r.loading=function(){if(r.props.login.pending)return"loading..."},n))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.login,n=e.onFetchToken;t.isAuth||n()}},{key:"render",value:function(){var e=this.props.user.data;return o.a.createElement("div",{className:"header-user"},o.a.createElement("a",{href:e.html_url,className:"header-user-name"},o.a.createElement("img",{src:e.avatar_url,alt:"",className:"header-user-img"}),e.login),this.loading(),o.a.createElement("button",{className:"btn",onClick:M},"Login"),o.a.createElement("button",{className:"btn",onClick:this.props.onLogout},"Logout"))}}])&&ue(n.prototype,r),i&&ue(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ce(e.prototype,t&&t.prototype),t&&ce(e,t)}(t,e),t}(r.Component),pe=Object(c.b)(function(e){return{login:e.login,user:e.user}},function(e){return{onFetchToken:function(){!function(e){var t=K.a.parse(window.location.search);if(t.code){var n=K.a.stringify({code:t.code}),r="https://server-aenjidvwww.now.sh/callback?".concat(n);e({type:"FETCH_GH_TOKEN_REQUEST"}),fetch(r).then(function(e){return e.json()}).then(function(t){var n=t.token,r=n.access_token,o=n.error;o?e(function(e){return{type:"FETCH_GH_TOKEN_ERROR",payload:e,error:!0}}(o)):(localStorage.setItem("ghtoken",r),e({type:"FETCH_GH_TOKEN_SUCCESS",payload:r}))})}}(e)},onLogout:function(){e((localStorage.removeItem("ghtoken"),{type:"LOGOUT"}))},onFetchData:function(){Y(e),ne(e)}}})(se);function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(this,be(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.gists,n=e.gist,r=e.onFetchData,i=e.onUpdateGists;return o.a.createElement("div",{className:"sync"},o.a.createElement("button",{className:"btn",onClick:r(t.data.find(function(e){return n.id===e.id}))},"pull"),o.a.createElement("button",{className:"btn",onClick:i(t)},"push"),o.a.createElement("div",{className:"status"},this.props.gists.patching?"pushing to github..":"",this.props.gists.pending?"getting data from github..":""))}}])&&me(n.prototype,r),i&&me(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");de(e.prototype,t&&t.prototype),t&&de(e,t)}(t,e),t}(r.Component),Ee=Object(c.b)(function(e){return{gists:e.gists,gist:e.gist}},function(e){return{onFetchData:function(t){return function(n){Y(e),ne(e),e(s(t))}},onUpdateGists:function(t){return function(){e(ie(t))}}}})(ge);function ve(e){return(ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,Oe(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn",onClick:this.props.onGistAdd}," new gist +"))}}])&&Se(n.prototype,r),i&&Se(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");_e(e.prototype,t&&t.prototype),t&&_e(e,t)}(t,e),t}(r.Component),Ce=Object(c.b)(null,function(e){return{onGistAdd:function(t){return e({type:"NEW_GIST"})}}})(Te);function je(e){return(je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return!t||"object"!==je(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Re=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Ie(r,(n=r=Ie(this,(e=Ge(t)).call.apply(e,[this].concat(i))),r.isAuthenticated=!1,n))}var n,r,i;return n=t,(r=[{key:"render",value:function(){return o.a.createElement(f.a,{basename:"/gist"},o.a.createElement("div",{className:"app"},o.a.createElement("header",{className:"header"},o.a.createElement(Ee,null),o.a.createElement(Ce,null),o.a.createElement(pe,null)),o.a.createElement("aside",{className:"side-gists"},o.a.createElement(v,null)),o.a.createElement("main",null,o.a.createElement(l.a,{exact:!0,path:"/",component:L})),o.a.createElement("footer",null,"footer")))}}])&&Fe(n.prototype,r),i&&Fe(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ke(e.prototype,t&&t.prototype),t&&ke(e,t)}(t,e),t}(r.Component),Ne=(n(29),n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ae=n(6),Ue=n(11),He=n(18),De=n.n(He),Le=n(17);function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me;function Qe(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ve(e,t,n[t])})}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze,Je={pending:!1,data:{},error:""},Be=Qe(Je,(Ve(Me={},"FETCH_GISTS_REQUEST",function(e){return We({},e,{pending:!0})}),Ve(Me,"FETCH_GISTS_SUCCESS",function(e,t){return We({},e,{pending:!1,data:t.payload,error:Je.error})}),Ve(Me,"FETCH_GISTS_FAILURE",function(e,t){return We({},e,{pending:!1,error:t.payload})}),Ve(Me,"FETCH_GIST_FILE_REQUEST",function(e,t){var n=t.payload,r=n.name,o=n.id,i=xe({},e),a=i.data.findIndex(function(e){return e.id===o});return i.data[a].files[r].pending=!0,i}),Ve(Me,"FETCH_GIST_FILE_SUCCESS",function(e,t){var n=t.payload,r=n.id,o=n.name,i=n.data,a=xe({},e),c=a.data.findIndex(function(e){return e.id===r}),u=a.data[c].files[o];return u.pending=!1,u.content=i,a}),Ve(Me,"FETCH_GIST_FILE_FAILURE",function(e,t){return e}),Ve(Me,"CHANGE_GIST",function(e,t){var n=xe({},e),r=t.payload;r.changed=!0;var o=e.data.findIndex(function(e){return e.id===r.id});return n.data[o]=r,n}),Ve(Me,"UPDATE_GISTS_START",function(e){return We({},e,{patching:!0})}),Ve(Me,"UPDATE_GISTS_FINISH",function(e){return We({},e,{patching:!1})}),Ve(Me,"UPDATE_GIST_SUCCESS",function(e,t){var n=xe({},e),r=t.payload;r.changed=!1,Object.keys(r.files).forEach(function(e){null===r.files[e]&&delete r.files[e]});var o=e.data.findIndex(function(e){return e.id===r.id});return n.data[o]=r,n}),Ve(Me,"UPDATE_GIST_ERROR",function(e,t){var n=xe({},e),r=t.payload;r.changed=!1;var o=e.data.findIndex(function(e){return e.id===r.id});return n.data[o]=r,n}),Ve(Me,"GIST_ADD",function(e,t){var n=xe({},e);return n.data.push(t.payload),n}),Ve(Me,"GIST_DELETE",function(e,t){var n=xe({},e),r=t.payload,o=e.data.findIndex(function(e){return e.id===r});return n.data[o].deleted=!0,n}),Me));function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$e(e,t,n[t])})}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=Qe({},($e(ze={},"SET_ACTIVE_GIST",function(e,t){return t.payload}),$e(ze,"FILE_ADD",function(e){var t=Xe({},e);return t.files=Xe({},t.files)||{},t.files["new-".concat(Date.now())]={filename:"new",content:"new",isNew:!0},t}),$e(ze,"FILE_REMOVE",function(e,t){var n=Xe({},e),r=t.payload;return n.files[r].isNew?delete n.files[r]:n.files[r]=null,n}),$e(ze,"FILE_RENAME",function(e,t){var n=Xe({},e),r=t.payload,o=r.target,i=r.filename;return n.files[o].filename=i,n}),$e(ze,"FILE_CONTENT_CHANGE",function(e,t){var n=Xe({},e),r=t.payload,o=r.filename,i=r.content;return n.files[o].content=i,n}),$e(ze,"NEW_GIST",function(){return{description:"new gist",public:!1,added:!0,files:{}}}),$e(ze,"GIST_RENAME",function(e,t){var n=Xe({},e),r=t.payload;return n.description=r,n}),ze));function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ze(e,t,n[t])})}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et,tt={pending:!1,data:{},error:""};function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot={pending:!1,token:"",error:{},isAuth:!1},it=Qe(ot,(rt(et={},"FETCH_GH_TOKEN_REQUEST",function(e){return nt({},e,{pending:!0})}),rt(et,"FETCH_GH_TOKEN_SUCCESS",function(e,t){return{pending:!1,token:t.payload,error:ot.error,isAuth:!0}}),rt(et,"FETCH_GH_TOKEN_ERROR",function(e,t){return nt({},e,{pending:!1,error:t.payload})}),rt(et,"LOGOUT",function(e){return nt({},e,{token:ot.token,isAuth:!1})}),et)),at=Object(Ae.c)({gists:Be,gist:qe,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_REQUEST":return Ye({},e,{pending:!0});case"FETCH_USER_SUCCESS":return Ye({},e,{pending:!1,data:t.payload,error:tt.error});case"FETCH_USER_FAILURE":return Ye({},e,{pending:!1,data:tt.data,error:t.payload});default:return e}},login:it}),ct={key:"root",storage:De.a},ut=Object(Ue.a)(ct,at),lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ae.d,ft=Object(Ae.e)(ut,lt(Object(Ae.a)(Le.a))),st=Object(Ue.b)(ft);a.a.render(o.a.createElement(c.a,{store:ft},o.a.createElement(u.a,{loading:null,persistor:st},o.a.createElement(Re,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/gist",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/gist","/service-worker.js");Ne?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Pe(e)})}}()},29:function(e,t,n){},48:function(e,t,n){n(47),e.exports=n(25)}},[[48,0,1]]]);
//# sourceMappingURL=main.f8523dcd.chunk.js.map